"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const express=require("express"),bodyParser=require("body-parser"),ImageLoader_1=require("./server/core/image-loader/ImageLoader"),Settings_1=require("./server/core/Settings"),IndexLSH_1=require("./server/index/IndexLSH"),AppRouter_1=require("./server/routing/AppRouter"),conf=Settings_1.default.global(),app=express(),loader=new ImageLoader_1.default,index=new IndexLSH_1.default;index.buildIndex().then(()=>loader.start(index)),app.use(express.static(conf.imgsPath)),app.use(express.static("client/")),app.use(bodyParser.json());const router=new AppRouter_1.default(app,index);app.listen(conf.port,conf.ip),console.log("Server started..."),module.exports=app;