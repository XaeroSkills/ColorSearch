"use strict";var __awaiter=this&&this.__awaiter||function(e,t,r,s){return new(r||(r=Promise))(function(u,n){function o(e){try{a(s.next(e))}catch(e){n(e)}}function i(e){try{a(s.throw(e))}catch(e){n(e)}}function a(e){e.done?u(e.value):new r(function(t){t(e.value)}).then(o,i)}a((s=s.apply(e,t||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0});const request=require("request"),Debug=require("debug"),debug=Debug("JsonRPC");class JsonRPC{constructor(){}static request(e,t,r,s){return __awaiter(this,void 0,void 0,function*(){return debug("request..."),yield new Promise((u,n)=>{request({method:"POST",headers:{Authorization:s},uri:e,body:JsonRPC.requestMessage(t,r),json:!0},(e,t,r)=>{e||void 0===r.result?n(e||r.error):u(r.result)})})})}static requestMessage(e,t){return{jsonrpc:"2.0",id:null,method:e,params:t}}}exports.default=JsonRPC;