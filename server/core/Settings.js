"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const Debug=require("debug"),LocalHost_1=require("../hosts/localhost/LocalHost"),OpenShift_1=require("../hosts/openshift/OpenShift"),config=require("../app.config.json"),debug=Debug("Settings");class Settings{constructor(t){debug("init settings..."),this.config=t;const e="string"==typeof t.host?t.host.toLowerCase():"",s="string"==typeof t.database?t.database.toLowerCase():"mongodb";switch(e){case"openshift":this.host=new OpenShift_1.default(s);break;default:this.host=new LocalHost_1.default(s)}}db(){return this.host.getDb()}global(){const t={};return t.serverUrl=this.host.getServerUrl(),t.loginRequired=!0===this.config.loginRequired,t.password=this.config.password||"secret",t.imgsPath=this.config.imgsPath||"imgs/public",t.database="string"==typeof this.config.database?this.config.database.toLowerCase():"mongodb",t.saveLimit="number"==typeof this.config.saveLimit?this.config.saveLimit:1e5,t.id="number"==typeof this.config.id?this.config.id:1,t.ip=this.host.getIp(),t.port=this.host.getPort(),t.nodes=this.config.nodes||[],t.rpcPassword=this.config.rpcPassword||"",t}imageSaver(){return this.config.imageSaver||{}}searchRequest(){return this.config.searchRequest||{}}index(){return this.config.index||{}}}exports.default=new Settings(config);